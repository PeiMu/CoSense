include "NewtonBaseSignals.nt"

BMP180: sensor (
			bmp180Temperature: temperature,
			bmp180Pressure: pressure
			) =

{

	#
	#	The operation sequence needed to get a sample
	#
	#	i2c address of Barometer can be found in Table 8 of document 5.4 on page 21.
	#
	#	Register address of Temperature Sensor can be found in Figure 6 of document 4 on page 18.
	#
	interface bmp180Temperature == i2c (address: 16r77)
	{
		#
		#	write to temperature value in register address 16rF4
		#
		#write 16r2E 16rF4
		
		#
		#	Get MSB and LSB of Temp data...
		#
		out_t_msb = read 16rF6;
		out_t_lsb = read 16rF7;
		#bmp180Temperature = (out_t_msb << 8) | (out_t_Lsb);
	}
}


#mySignal : signal =
#{
#	name		= "m" English;
#	sensor		= BMP180;
#	symbol		= temp;
#	derivation	= none;
#}

#mySignal : signal =
#{
#    name = "m" English;
#	derivation = none;
#    sensor  = BMP180;
#}
